/dts-v1/;
/ {
	compatible = "opencores,or1ksim";
	#address-cells = <1>;
	#size-cells = <1>;
	interrupt-parent = <&pic>;

	chosen {
		bootargs = "console=uart,mmio,0x90000000,115200";
	};

	memory@0 {
		device_type = "memory";
		reg = <0x00000000 0x10000000>;
	};

	cpus {
		#address-cells = <1>;
		#size-cells = <0>;
		cpu@0 {
			compatible = "opencores,or1200-rtlsvn481";
			reg = <0>;
			clock-frequency = <50000000>;
		};
	};

	/*
	 * OR1K PIC is built into CPU and accessed via special purpose
	 * registers.  It is not addressable and, hence, has no 'reg'
	 * property.
	 */
	pic: pic {
		compatible = "opencores,or1k-pic";
		#interrupt-cells = <1>;
		interrupt-controller;
	};

	serial0: serial@90000000 {
		compatible = "opencores,uart16550-rtlsvn105", "ns16550a";
		reg = <0x90000000 0x100>;
		interrupts = <2>;
		clock-frequency = <50000000>;
	};

	serial1: serial@91000000 {
		compatible = "opencores,uart16550-rtlsvn105", "ns16550a";
		reg = <0x91000000 0x100>;
		interrupts = <3>;
		clock-frequency = <50000000>;
	};

	enet0: ethoc@92000000 {
		compatible = "opencores,ethmac-rtlsvn338";
		reg = <0x92000000 0x100>;
		interrupts = <26>;
	};

        i2c@a0000000 {
		compatible = "opencores,i2c-ocores";
		reg = <0xa1000000 0x8>;
		reg-shift = <0>;        /* 8 bit registers */
		interrupts = <15>;
		clock-frequency = <400000>;
		#address-cells = <1>;
		#size-cells = <0>;
		accelerometer@19 {	/* U10, Linear acceleration digital interface */
			compatible = "stm,lsm303dlhc_accel";
			reg = <0x19>;
		};
		magnetometer@1e {	/* U10, Magnetic field digital interface */
			compatible = "stm,lsm303dlhc_magn";
			reg = <0x1e>;
		};
        };

        // Each SPI device have spidev first to by default address them via /dev/spi*
        // to avoid sudden change if a driver becomes available.

        spi@b0000000 {
		compatible = "opencores,spi";
		reg = <0xb0000000 0x20>;
		// interrupts = <7>; /* IRQ disabled to use polled mode */
		#address-cells = <1>;
		#size-cells = <0>;
		pga@0 {		/* U2 */
			#address-cells = <1>;
			#size-cells = <1>;
			spi-max-frequency = <5000000>;
			compatible = "spidev", "maxim,max9939";
			reg = <0>;
		};
		pga@1 {		/* U4 */
			#address-cells = <1>;
			#size-cells = <1>;
			spi-max-frequency = <5000000>; 
			compatible = "spidev", "maxim,max9939";
			reg = <1>;
		};
		pga@2 {		/* U6 */
			#address-cells = <1>;
			#size-cells = <1>;
			spi-max-frequency = <5000000>;
			compatible = "spidev", "maxim,max9939";
			reg = <2>;
		};
		pga@3 {		/* U8 */
			#address-cells = <1>;
			#size-cells = <1>;
			spi-max-frequency = <5000000>;
			compatible = "spidev", "maxim,max9939";
			reg = <3>;
		};
		// Is this still on 6, or is it 5?
		wifi@6 {
			#address-cells = <1>;
			#size-cells = <1>;
			spi-max-frequency = <33000000>;
			// Not sure what model the wifi module have
			compatible = "spidev";
			reg = <6>;
		};
        };
        spiadc@b1000000 {
		compatible = "opencores,spi-geopebble";
		reg = <0xb1000000 0x40>;
		// interrupts = <7>; /* IRQ disabled to use polled mode */
		#address-cells = <1>;
		#size-cells = <0>;
		interrupts = <9>;
		adc@0 {
			#address-cells = <1>;
			#size-cells = <1>;
			spi-max-frequency = <5000000>;	/* 1/10 of specified max (50ns). Not sure on board signal quality */
			compatible = "spidev", "maxim,max11040k";
			reg = <0>;
			spi-cpol;
		};
        };
};
